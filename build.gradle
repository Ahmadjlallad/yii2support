/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.5.1'
}

allprojects {
    repositories {
        mavenCentral()
    }
}

//dependencies {
//    compile("com.rollbar:rollbar-java:1.3.1") {
//        exclude group: 'org.slf4j', module: 'slf4j-api'
//    }
//}

dependencies {
    compile ('io.sentry:sentry:1.7.12') {
        exclude group: 'org.slf4j', module: 'slf4j-api'
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'
    }
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

sourceSets {
    main {
        java {
            srcDirs 'src'
//            assemble "com.rollbar:rollbar-java:1.3.1"
        }
        resources {
            srcDirs 'resources'
        }
    }
    test {
        java {
            srcDirs 'tests'
        }
    }
}

apply plugin: 'idea'
apply plugin: 'org.jetbrains.intellij'

intellij {
    type 'IU'
    version ideVersion
    alternativeIdePath "${System.getenv('USERPROFILE')}${runIdePath}"
    updateSinceUntilBuild false
    plugins = [
            "com.jetbrains.php:${phpPluginVersion}",
            "org.jetbrains.plugins.phpstorm-remote-interpreter:${phpRemoteInterpreterPluginVersion}",
            "com.jetbrains.twig:${twigPluginVersion}",
            "DatabaseTools",
            "webDeployment",
            "CSS",
            "terminal",
            "coverage",
            "java-i18n",
            "remote-run",
            "properties",
    ]
//    sandboxDirectory project.rootDir.canonicalPath + "/.sandbox"
}

publishPlugin {
    username ORG_GRADLE_PROJECT_USERNAME
    password ORG_GRADLE_PROJECT_PASSWORD
}

group "com.nvlad"
version "0.10.57.30"
