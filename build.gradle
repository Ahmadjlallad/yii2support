/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

//apply from: 'https://raw.github.com/bat-cha/gradle-plugin-git-dependencies/0.2/git-dependencies.gradle'

apply plugin: 'java'

allprojects {
    repositories {
        mavenCentral()
    }
}

dependencies {
    compile("com.rollbar:rollbar-java:1.3.1") {
        exclude group: 'org.slf4j', module: 'slf4j-api'
    }
}

buildscript {
    repositories {
        maven { url 'http://dl.bintray.com/jetbrains/intellij-plugin-service' }
        maven { url "https://plugins.gradle.org/m2/" }
    }

    dependencies {
        classpath "gradle.plugin.org.jetbrains.intellij.plugins:gradle-intellij-plugin:0.3.6"
    }
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

sourceSets {
    main {
        java {
            srcDirs 'src'
//            assemble "com.rollbar:rollbar-java:1.3.1"
        }
        resources {
            srcDirs 'resources'
        }
    }
    test {
        java {
            srcDirs 'tests'
        }
    }
}

apply plugin: 'idea'
apply plugin: 'org.jetbrains.intellij'

intellij {
    version ideVersion
    alternativeIdePath runIdePath
    updateSinceUntilBuild false
    plugins = [
            "com.jetbrains.php:${phpPluginVersion}",
            "org.jetbrains.plugins.phpstorm-remote-interpreter:${phpRemoteInterpreterPluginVersion}",
            "com.jetbrains.twig:${twigPluginVersion}",
            "DatabaseTools",
            "webDeployment",
            "css",
            "terminal",
            "coverage",
            "java-i18n",
            "remote-run",
            "properties",
    ]
}
